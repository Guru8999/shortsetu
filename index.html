async function shortenWithTinyApi(longUrl) {
  const apiKey = 'YAHAN_APNA_API_KEY_DAL'; // TinyURL dev panel se
  const apiUrl = 'https://api.tinyurl.com/create';

  const res = await fetch(apiUrl, {
    method: 'POST',
    headers: {
      'Authorization': 'Bearer ' + apiKey,
      'Content-Type': 'application/json',
      'Accept': 'application/json'
    },
    body: JSON.stringify({
      url: longUrl
      // yaha extra options bhi ho sakte hain docs ke hisab se
    })
  });

  if (!res.ok) {
    throw new Error('TinyURL API error: ' + res.status);
  }

  const data = await res.json();
  // Docs ke hisab se field ka naam check karo (often data.tiny_url ya shortened_url)
  return data.data.tiny_url;
}
